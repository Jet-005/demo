function scrollside(){var o=$(".box"),t=o.last().get(0).offsetTop+Math.floor(o.last().height()/2),n=$(document).width();return t<$(window).scrollTop()+n}function imgLocation(){var o=$(".box"),t=o.eq(0).width(),n=Math.floor($(window).width()/t),i=[];o.each(function(t,a){var c=o.eq(t).height();if(t<n)i[t]=c;else{var e=Math.min.apply(null,i);console.log(e);var r=$.inArray(e,i);console.log(r),$(a).css({position:"absolute",top:e,left:o.eq(r).position().left}),i[r]+=o.eq(t).height()}})}$(document).ready(function(){$(window).on("load",function(){imgLocation();var o={data:[{src:"1.jpg"},{src:"2.jpg"},{src:"3.jpg"},{src:"4.jpg"},{src:"5.jpg"}]};window.onscroll=function(){scrollside()&&$.each(o.data,function(o,t){var n=$("<div>").addClass("box").appendTo($("#container")),i=$("<div>").addClass("content").appendTo(n);$("<img>").attr("src","img/"+$(t).attr("src")).appendTo(i)}),imgLocation()}})});